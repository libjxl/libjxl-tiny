digraph {
distance [rank=source,shape=hexagon];
linear [rank=source,shape=hexagon];
header [label="Header";shape=parallelogram];
linear -> size;
size -> header;
distance -> header;
ToXYB [shape=rect];
linear -> ToXYB;
ToXYB -> opsin;
ComputeAdaptiveQuantField [shape=rect];
opsin -> ComputeAdaptiveQuantField;
distance -> ComputeAdaptiveQuantField;
ComputeAdaptiveQuantField -> quant_field;
ComputeAdaptiveQuantField -> masking;
ComputeAdaptiveQuantField -> raw_quant_field;
opsin2 [label=opsin];
GaborishInverse [shape=rect];
opsin -> GaborishInverse;
GaborishInverse -> opsin2;
ComputeColorCorrelationMap [shape=rect];
opsin2 -> ComputeColorCorrelationMap;
ComputeColorCorrelationMap -> cmapAC;
ComputeColorCorrelationMap -> cmapDC;
ComputeAcStrategyImage [shape=rect];
opsin2 -> ComputeAcStrategyImage;
distance -> ComputeAcStrategyImage;
cmapAC -> ComputeAcStrategyImage;
quant_field -> ComputeAcStrategyImage;
masking -> ComputeAcStrategyImage;
ComputeAcStrategyImage -> ac_strategy;
AdjustRawQuantField [shape=rect];
raw_quant_field -> AdjustRawQuantField;
ac_strategy -> AdjustRawQuantField;
raw_quant_field2 [label=raw_quant_field];
AdjustRawQuantField -> raw_quant_field2;
dc [label="DC Image"];
DCT [shape=rect];
opsin2 -> DCT;
ac_strategy -> DCT;
DCT -> dc;
ac [label="AC Image"];
DCT -> ac;
ComputeACTokens [shape=rect];
ac -> ComputeACTokens;
raw_quant_field2 -> ComputeACTokens;
cmapAC -> ComputeACTokens;
ComputeACTokens -> ac_tokens;
ComputeDCTokens [shape=rect];
dc -> ComputeDCTokens;
cmapDC -> ComputeDCTokens;
ComputeDCTokens -> dc_tokens;
ComputeACMetaTokens [shape=rect];
cmapAC -> ComputeACMetaTokens;
ac_strategy -> ComputeACMetaTokens;
raw_quant_field2 -> ComputeACMetaTokens;
ComputeACMetaTokens -> ac_meta_tokens;
dcglobal [label="DC Global Section";shape=parallelogram]
WriteDCGlobal [shape=rect];
cmapDC -> WriteDCGlobal;
dc_tokens -> WriteDCGlobal;
ac_meta_tokens -> WriteDCGlobal;
WriteDCGlobal -> dc_code;
WriteDCGlobal -> dc_context_map;
WriteDCGlobal -> dcglobal;
dcgroups [label="DC Group Sections";shape=parallelogram]
WriteDCGroups [shape=rect];
dc_tokens -> WriteDCGroups;
ac_meta_tokens -> WriteDCGroups;
dc_code -> WriteDCGroups;
dc_context_map -> WriteDCGroups;
WriteDCGroups -> dcgroups;
WriteACGlobal [shape=rect];
ac_tokens -> WriteACGlobal;
WriteACGlobal -> ac_code;
WriteACGlobal -> ac_context_map;
acglobal [label="AC Global Section";shape=parallelogram]
WriteACGlobal -> acglobal;
WriteACGroups [shape=rect];
ac_tokens -> WriteACGroups;
ac_code -> WriteACGroups;
ac_context_map -> WriteACGroups;
acgroups [label="AC Group Sections";shape=parallelogram]
WriteACGroups -> acgroups;
WriteToc [shape=rect];
dcglobal -> WriteToc;
acglobal -> WriteToc;
dcgroups -> WriteToc;
acgroups -> WriteToc;
toc [label="TOC";shape=parallelogram]
WriteToc -> toc;
jxl [label="JXL Bitstream";shape=parallelogram]
header->jxl;
toc -> jxl;
dcglobal -> jxl;
acglobal -> jxl;
dcgroups -> jxl;
acgroups -> jxl;
}
